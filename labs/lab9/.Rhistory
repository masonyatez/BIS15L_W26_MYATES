pivot_longer(-patient,
names_to="drug",
values_to="heartrate")
heartrate %>%
pivot_longer(-patient,
names_to="drug",
values_to="heartrate") %>%
filter(patient == "Margaret")
ggplot(
mapping=aes(
x=drug,
y=heartrate
)
)+
geom_col
heartrate %>%
pivot_longer(-patient,
names_to="drug",
values_to="heartrate") %>%
filter(patient == "Margaret")
ggplot(
mapping=aes(
x=drug,
y=heartrate
)
)+
geom_col()
heartrate %>%
pivot_longer(-patient,
names_to="drug",
values_to="heartrate") %>%
filter(patient == "Margaret") %>%
ggplot(
mapping=aes(
x=drug,
y=heartrate
)
)+
geom_col()
heartrate %>%
pivot_longer(-patient,
names_to="drug",
values_to="heartrate") %>%
filter(patient == "Margaret") %>%
ggplot(
mapping=aes(
x=drug,
y=heartrate
)
)+
geom_point()
heartrate %>%
pivot_longer(-patient,
names_to="drug",
values_to="heartrate") %>%
filter(patient == "Margaret") %>%
ggplot(
mapping=aes(
x=drug,
y=heartrate
)
)+
geom_point()+
geom_smooth(
method = lm,
se = F,
color = "black"
)
heartrate %>%
pivot_longer(-patient,
names_to="drug",
values_to="heartrate") %>%
filter(patient == "Margaret") %>%
ggplot(
mapping=aes(
x=drug,
y=heartrate
)
)+
geom_point()+
geom_contour()
heartrate %>%
pivot_longer(-patient,
names_to="drug",
values_to="heartrate") %>%
filter(patient == "Margaret") %>%
ggplot(
mapping=aes(
x=drug,
y=heartrate
)
)+
geom_col()
relig_income <- read_csv("data/relig_income.csv")
View(relig_income)
relig_income %>%
pivot_longer(
-religion,
names_to = "income_bracket",
values_to = "n"
)
relig_income %>%
pivot_longer(
-religion,
names_to = "income_bracket",
values_to = "n"
) %>%
mutate(
across(income_bracket, as.factor)
)
relig_income %>%
pivot_longer(
-religion,
names_to = "income_bracket",
values_to = "n"
) %>%
mutate(
across(c(religion, income_bracket), as.factor)
)
relig_income %>%
pivot_longer(
-religion,
names_to = "income_bracket",
values_to = "n"
) %>%
mutate(
across(c(religion, income_bracket), as.factor)
) %>%
ggplot(
mappig = aes(
x = income_bracket,
y = n,
fill = religion
)
)+
geom_col(position = "stack")
relig_income %>%
pivot_longer(
-religion,
names_to = "income_bracket",
values_to = "n"
) %>%
mutate(
across(c(religion, income_bracket), as.factor)
) %>%
ggplot(
mapping = aes(
x = income_bracket,
y = n,
fill = religion
)
)+
geom_col(position = "stack")
relig_income %>%
pivot_longer(
-religion,
names_to = "income_bracket",
values_to = "n"
) %>%
mutate(
across(c(religion, income_bracket), as.factor)
)
billboard <- read_csv("data/billboard.csv")
billboard
billboard %>%
pivot_longer(
wk1:wk76,
names_to = "week",
values_to = "rank",
values_drop_na = T
)
billboard %>%
pivot_longer(
-c(artist, track, date.entered),
names_to = "week",
values_to = "rank",
values_drop_na = TRUE
)
billboard %>%
pivot_longer(
-c(artist, track, date.entered),
names_to = "week",
values_to = "rank",
values_drop_na = TRUE
) %>%
filter(week == "wk1")
billboard %>%
pivot_longer(
cols=starts_with("wk"),
names_to = "week",
names_prefix = "wk",
values_to = "rank",
values_drop_na = "T"
)
billboard %>%
pivot_longer(
cols=starts_with("wk"),
names_to = "week",
names_prefix = "wk",
values_to = "rank",
values_drop_na = T
)
qpcr_untidy <- read_csv("data/qpcr_untidy.csv")
qpcr_untidy
View(qpcr_untidy)
plant_data <- read_csv("data/plant_data.csv")
View(plant_data)
plant_data %>%
pivot_longer(
-c(genotype, water_sched_prog, greenhouse),
names_to = "day",
names_prefix = "day",
values_to = "growth"
)
plant_data %>%
pivot_longer(
-c(genotype, water_sched_prog, greenhouse),
names_to = "day",
names_prefix = "day",
values_to = "growth"
) %>%
mutate(
across(c(genotype, water_sched_prog, greenhouse), as.factor)
)
qpcr_untidy %>%
pivot_longer(
exp1_rep1:exp3_rep3,
names_to = c("experiment", "replicate"),
names_sep = "_",
values_to = "mRNA expression"
)
qpcr_untidy %>%
pivot_longer(
exp1_rep1:exp3_rep3,
names_to = c("experiment", "replicate"),
names_prefix = c("exp", "rep")
names_sep = "_",
qpcr_untidy %>%
pivot_longer(
exp1_rep1:exp3_rep3,
names_to = c("experiment", "replicate"),
names_prefix = c("exp", "rep"),
names_sep = "_",
values_to = "mRNA expression"
)
qpcr_untidy %>%
pivot_longer(
exp1_rep1:exp3_rep3,
names_to = c("experiment", "replicate"),
names_sep = "_",
values_to = "mRNA expression"
)
qpcr_untidy %>%
pivot_longer(
exp1_rep1:exp3_rep3,
names_to = c("experiment", "replicate"),
names_sep = "_",
values_to = "mRNA expression"
) %>%
separate(experiment
into=c("experiment", "e_number"),
qpcr_untidy %>%
pivot_longer(
exp1_rep1:exp3_rep3,
names_to = c("experiment", "replicate"),
names_sep = "_",
values_to = "mRNA expression"
) %>%
separate(experiment,
into=c("experiment", "e_number"),
sep=3)
qpcr_untidy %>%
pivot_longer(
exp1_rep1:exp3_rep3,
names_to = c("experiment", "replicate"),
names_sep = "_",
values_to = "mRNA expression"
) %>%
separate(experiment,
into=c("experiment", "e_number"),
sep=3) %>%
separate(replicate,
into=c("replicate", "r_number"),
sep=3)
qpcr_untidy %>%
pivot_longer(
exp1_rep1:exp3_rep3,
names_to = c("experiment", "replicate"),
names_sep = "_",
values_to = "mRNA expression"
) %>%
separate(experiment,
into=c("experiment", "e_number"),
sep=3) %>%
separate(replicate,
into=c("replicate", "r_number"),
sep=3) %>%
select(
gene,
experiment = e_number,
replicate = r_number,
mRNA_expression = mRNA expression
qpcr_untidy %>%
pivot_longer(
exp1_rep1:exp3_rep3,
names_to = c("experiment", "replicate"),
names_sep = "_",
values_to = "mRNA_expression"
) %>%
separate(experiment,
into=c("experiment", "e_number"),
sep=3) %>%
separate(replicate,
into=c("replicate", "r_number"),
sep=3) %>%
select(
gene,
experiment = e_number,
replicate = r_number,
mRNA_expression)
library("tidyverse")
datasets::USPersonalExpenditure
?USPersonalExpenditure
expenditures <- as_tibble(USPersonalExpenditure) %>%
mutate(expenditure = rownames(USPersonalExpenditure)) %>%
relocate(expenditure)
expenditures
View(expenditures)
expenditures %>%
pivot_longer(
-expenditure,
names_to = "year",
values_to = "total_expense"
)
exp_tidy <- expenditures %>%
pivot_longer(
-expenditure,
names_to = "year",
values_to = "total_expense"
)
exp_tidy %>%
filter(expenditure=="Medical and Health")
exp_tidy %>%
filter(expenditure=="Medical and Health") %>%
arrange(total_expense)
heartrate2 <- read_csv("data/heartrate2.csv")
heartrate2
heartrate2 %>%
separate(
patient,
into = c("patient", "sex"),
sep = "_"
)
heartrate2 %>%
seperate(
patient,
into = c("patient", "sex"),
sep = -1
)
heartrate2 %>%
separate(
patient,
into = c("patient", "sex"),
sep = -1
)
heartrate2 %>%
separate(
patient,
into = c("patient", "sex"),
sep = -1
) %>%
mutate(
patient = str_remove(patient, "_")
)
heartrate3 <- heartrate2 %>%
separate(
patient,
into = c("patient", "sex"),
sep = "_"
) %>%
pivot_longer(
-c(patient, sex),
names_to = "drug",
values_to = "heartrate"
)
View(heartrate3)
View(heartrate3)
heartrate3 %>%
unite(... = c(patient, sex),
col = "patient.sex",
sep = "_"
heartrate3 %>%
unite(... = c(patient, sex),
col = "patient.sex",
sep = "_")
heartrate3 %>%
unite(c(patient, sex),
col = "patient.sex",
sep = "_")
tb_data <- read_csv("data/tb_data.csv")
tb_data
View(tb_data)
tb_data %>%
pivot_wider(
names_from = key,
values_from = value
)
gene_exp <- read_csv("data/gene_exp.csv")
View(gene_exp)
gene_exp %>%
pivot_wider(
names_from = type,
values_from = L4_values
)
beachbugs <- read_csv("data/beachbugs_long.csv")
View(beachbugs)
beachbugs %>%
pivot_wider(
names_from = site,
values_from = buglevels
)
beachbugs %>%
pivot_wider(
names_from = site,
values_from = buglevels
) %>%
pivot_longer(
names_to = "site",
values_to = "buglevels"
)
beachbugs %>%
pivot_wider(
names_from = site,
values_from = buglevels
) %>%
pivot_longer(
-year,
names_to = "site",
values_to = "buglevels"
)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
beaches <- read_csv("data/sydneybeaches.csv")
beaches <- read_csv("data/sydneybeaches.csv")
glimpse(beaches)
View(beaches)
sydneybeaches <- beaches %>%
clean_names()
View(sydneybeaches)
sydneybeaches_long <- sydneybeaches %>%
select(site, date, enterococci_cfu_100ml)
View(sydneybeaches_long)
sydneybeaches_wide <- sydneybeaches_long %>%
pivot_wider(
names_from = site,
values_from = enterococci_cfu_100ml
)
View(sydneybeaches_wide)
sydneybeaches_wide <- sydneybeaches_long %>%
pivot_wider(
names_from = date,
values_from = site
)
sydneybeaches_wide <- sydneybeaches_long %>%
pivot_wider(
names_from = date,
values_from = enterococci_cfu_100ml
)
sydneybeaches_wide %>%
pivot_longer(
-site,
names_to = "date",
values_to = "enterococci_cfu_100ml"
)
sydneybeaches_long2 <- sydneybeaches_wide %>%
pivot_longer(
-site,
names_to = "date",
values_to = "enterococci_cfu_100ml"
)
sydneybeaches_long %>%
separate(
date,
into = c("day", "month", "year"),
sep = "/"
)
View(sydneybeaches_long2)
View(sydneybeaches_wide)
sydneybeaches_long <- sydneybeaches_long %>%
separate(
date,
into = c("day", "month", "year"),
sep = "/",
)
sydneybeaches_long %>%
group_by(site, year) %>%
summarize(
avg_enterococci = mean(enterococci_cfu_100ml)
)
sydneybeaches_long %>%
group_by(site, year) %>%
summarize(
avg_enterococci = mean(enterococci_cfu_100ml,
na.rm = TRUE)
)
sydneybeaches_wide %>%
pivot_longer(
-site,
names_to = "date",
values_to = "enterococci_cfu_100ml"
)
