summarize(
n = n_distinct(country)
)
fisheries_clean %>%
summarize(
common_name_n = n_distinct(common_name),
tax_code_n = n_distinct(taxonomic_code)
)
fisheries_clean %>%
summarize(
common_name_n = n_distinct(common_name),
tax_code_n = n_distinct(taxonomic_code)
)
fisheries_clean %>%
count(common_name)
fisheries_clean %>%
summarize(
common_name_n = n_distinct(common_name),
tax_code_n = n_distinct(taxonomic_code)
)
fisheries_clean %>%
select(country, catch) %>%
fisheries_clean %>%
select(country, catch)
fisheries_clean %>%
filter(period == 2023)
select(country, catch)
fisheries_clean %>%
filter(period == 2023
fisheries_clean %>%
filter(period == 2023)
fisheries_clean %>%
filter(period == 2023) %>%
select(country, catch)
fisheries_clean %>%
filter(period == 2023) %>%
select(country, catch) %>%
distinct()
fisheries_clean %>%
filter(period == 2023) %>%
select(country, catch) %>%
distinct(country)
fisheries_clean %>%
filter(period == 2023) %>%
select(country, catch) %>%
distinct(country, keep = T)
fisheries_clean %>%
filter(period == 2023) %>%
select(country, catch) %>%
distinct(country)
fisheries_clean %>%
filter(period == 2023) %>%
select(country, catch)
fisheries_clean %>%
filter(period == 2023) %>%
select(country, catch) %>%
slice_max(catch, n = 5)
fisheries_clean %>%
filter(period == 2023) %>%
select(period, country, catch) %>%
slice_max(catch, n = 5)
fisheries_clean %>%
filter(period == 2023) %>%
select(period, common_name, catch)
fisheries_clean %>%
filter(period == 2023) %>%
select(period, common_name, catch) %>%
slice_max(catch, n = 10)
fisheries_clean %>%
filter(period == 2023) %>%
select(period, country, catch) %>%
group_by(country)
slice_max(catch, n = 5)
fisheries_clean %>%
filter(period == 2023) %>%
select(period, country, catch) %>%
group_by(country) %>%
slice_max(catch, n = 5)
fisheries_clean %>%
filter(period == 2023) %>%
select(period, country, catch) %>%
group_by(country) %>%
slice_max(catch, n = 1)
fisheries_clean %>%
filter(period == 2023) %>%
select(period, country, catch) %>%
group_by(country) %>%
slice_max(catch, n = 1) %>%
ungroup %>%
slice_max(catch, n = 5)
fisheries_clean %>%
filter(period == 2023) %>%
select(period, country, catch) %>%
group_by(country) %>%
slice_max(catch, n = 1) %>%
ungroup() %>%
slice_max(catch, n = 5)
fisheries_clean %>%
filter(period == 2023) %>%
select(period, common_name, catch) %>%
group_by(common_name) %>%
slice_max(catch, n = 1) %>%
ungroup %>%
slice_max(catch, n = 10)
fisheries_clean %>%
filter(period == 2023) %>%
select(period, country, catch) %>%
group_by(country) %>%
summarize(
total_catch = sum(catch, na.rm = T)
)
fisheries_clean %>%
filter(period == 2023) %>%
select(country, catch) %>%
group_by(country) %>%
summarize(
total_catch = sum(catch, na.rm = T)
) %>%
slice_max(country, n = 10)
fisheries_clean %>%
filter(period == 2023) %>%
select(country, catch) %>%
group_by(country) %>%
summarize(
total_catch = sum(catch, na.rm = T)
) %>%
slice_max(total_catch, n = 10)
fisheries_clean %>%
filter(period == 2023) %>%
select(country, catch) %>%
group_by(country) %>%
summarize(
total_catch = sum(catch, na.rm = T)
) %>%
slice_max(total_catch, n = 5)
fisheries_clean %>%
filter(period == 2023) %>%
select(country, catch) %>%
group_by(country) %>%
summarize(
total_catch = sum(catch, na.rm = T)
) %>%
slice_max(total_catch, n = 10)
fisheries_clean %>%
filter(period == 2023) %>%
select(country, catch) %>%
group_by(country) %>%
summarize(
total_catch = sum(catch, na.rm = T)
) %>%
slice_max(total_catch, n = 5)
fisheries_clean %>%
filter(period == 2023) %>%
select(period, common_name, catch) %>%
group_by(common_name) %>%
summarize(
total_catch = sum(catch, na.rm = T)
) %>%
slice_max(total_catch, n = 10)
fisheries_clean %>%
filter(common_name == "Alaska pollock(=Walleye poll.)") %>%
filter(period = 2023) %>%
select(country, catch) %>%
slice_max(catch, n = 1)
fisheries_clean %>%
filter(common_name == "Alaska pollock(=Walleye poll.)") %>%
filter(period == 2023) %>%
select(country, catch) %>%
slice_max(catch, n = 1)
fisheries_clean %>%
filter(common_name == "Alaska pollock(=Walleye poll.)") %>%
filter( period >= 2013 | period <= 2023)
fisheries_clean %>%
filter(common_name == "Alaska pollock(=Walleye poll.)") %>%
filter(period >= 2013 & period <= 2023)
fisheries_clean %>%
filter(common_name == "Alaska pollock(=Walleye poll.)")
fisheries_clean %>%
filter(common_name == "Alaska pollock(=Walleye poll.)") %>%
filter(period %in% c(2013:2023))
fisheries_clean %>%
filter(common_name == "Alaska pollock(=Walleye poll.)") %>%
filter(period %in% c(2013:2023)) %>%
group_by(period) %>%
summarize(
total_catch = sum(catch)
)
fisheries_clean %>%
filter(common_name == "Alaska pollock(=Walleye poll.)") %>%
filter(period %in% c(2013:2023)) %>%
group_by(period) %>%
summarize(
total_catch = sum(catch)
) %>%
ggplot(
mapping=aes(
x = period,
y = total_catch,
)
)+
geom_point()+
geom_smooth()
fisheries_clean %>%
filter(common_name == "Alaska pollock(=Walleye poll.)") %>%
filter(period %in% c(2013:2023)) %>%
group_by(period) %>%
summarize(
total_catch = sum(catch)
) %>%
ggplot(
mapping=aes(
x = period,
y = total_catch,
)
)+
geom_line()+
geom_smooth()
fisheries_clean %>%
filter(common_name == "Alaska pollock(=Walleye poll.)") %>%
filter(period %in% c(2013:2023)) %>%
group_by(period) %>%
summarize(
total_catch = sum(catch)
) %>%
ggplot(
mapping=aes(
x = period,
y = total_catch,
)
)+
geom_col()
fisheries_clean %>%
filter(common_name == "Alaska pollock(=Walleye poll.)") %>%
filter(period %in% c(2013:2023)) %>%
group_by(period) %>%
summarize(
total_catch = sum(catch)
) %>%
ggplot(
mapping=aes(
x = period,
y = total_catch,
fill = "orange"
)
)+
geom_col()
library("tidyverse")
library("janitor")
#library("naniar")
options(scipen = 999)
fisheries_clean <- read_csv("data/fisheries_clean.csv")
glimpse(fisheries_clean)
fisheries_clean <- fisheries_clean %>%
mutate(
across(
c(period, continent, geo_region, country, scientific_name, common_name, taxonomic_code, status), as.factor
)
)
fisheries_clean %>%
summarize(
n = n_distinct(country)
)
fisheries_clean %>%
summarize(
common_name_n = n_distinct(common_name),
tax_code_n = n_distinct(taxonomic_code)
)
fisheries_clean %>%
filter(period == 2023) %>%
select(country, catch) %>%
group_by(country) %>%
summarize(
total_catch = sum(catch, na.rm = T)
) %>%
slice_max(total_catch, n = 5)
fisheries_clean %>%
filter(period == 2023) %>%
select(period, common_name, catch) %>%
group_by(common_name) %>%
summarize(
total_catch = sum(catch, na.rm = T)
) %>%
slice_max(total_catch, n = 10)
fisheries_clean %>%
filter(common_name == "Alaska pollock(=Walleye poll.)") %>%
filter(period == 2023) %>%
select(country, catch) %>%
slice_max(catch, n = 1)
fisheries_clean %>%
filter(common_name == "Alaska pollock(=Walleye poll.)") %>%
filter(period %in% c(2013:2023)) %>%
group_by(period) %>%
summarize(
total_catch = sum(catch)
) %>%
ggplot(
mapping=aes(
x = period,
y = total_catch,
fill = "orange"
)
)+
geom_col()
fisheries_clean %>%
filter(common_name == "Alaska pollock(=Walleye poll.)") %>%
filter(period %in% c(2013:2023)) %>%
group_by(period) %>%
summarize(
total_catch = sum(catch)
) %>%
ggplot(
mapping=aes(
x = period,
y = total_catch,
fill = "orange"
)
)+
geom_col()+
labs(
title = "Alaska Pollock Catch Quantities Throughout the Years",
x = "Year"
y = "Total Catch Amount"
fisheries_clean %>%
filter(common_name == "Alaska pollock(=Walleye poll.)") %>%
filter(period %in% c(2013:2023)) %>%
group_by(period) %>%
summarize(
total_catch = sum(catch)
) %>%
ggplot(
mapping=aes(
x = period,
y = total_catch,
fill = "orange"
)
)+
geom_col()+
labs(
title = "Alaska Pollock Catch Quantities Throughout the Years",
x = "Year",
y = "Total Catch Amount"
)
fisheries_clean %>%
filter(common_name == "Alaska pollock(=Walleye poll.)") %>%
filter(period %in% c(2013:2023)) %>%
group_by(period) %>%
summarize(
total_catch = sum(catch)
) %>%
ggplot(
mapping=aes(
x = period,
y = total_catch,
)
)+
geom_col(fill = "orange")+
labs(
title = "Alaska Pollock Catch Quantities Throughout the Years",
x = "Year",
y = "Total Catch Amount"
)
View(fisheries_clean)
fisheries_clean %>%
filter(period %in% x(2013:2023)) %>%
group_by(period, country)
fisheries_clean %>%
filter(period %in% c(2013:2023)) %>%
group_by(period, country)
fisheries_clean %>%
filter(period %in% c(2013:2023)) %>%
group_by(period, country) %>%
summary(
total_catch = sum(catch)
)
test <- fisheries_clean %>%
filter(period %in% c(2013:2023)) %>%
group_by(period, country) %>%
summary(
total_catch = sum(catch)
)
fisheries_clean %>%
filter(period %in% c(2013:2023)) %>%
group_by(period, country) %>%
summary(
total_catch = sum(catch)
) %>%
ggplot(
mapping=aes(
x=period,
y=total_catch,
fill=country
)
)+
geom_col(position = 'stack')
fisheries_clean %>%
filter(period %in% c(2013:2023)) %>%
group_by(period, country) %>%
summarize(
total_catch = sum(catch))
fisheries_clean %>%
filter(period %in% c(2013:2023)) %>%
group_by(period, country) %>%
summarize(
total_catch = sum(catch)) %>%
ggplot(
mapping=aes(
x=period,
y=total_catch,
fill=country
)
)+
geom_col(position = 'stack')
fisheries_clean %>%
filter(period %in% c(2013:2023)) %>%
group_by(period, country) %>%
summarize(
total_catch = sum(catch)) %>%
ungroup() %>%
group_by(period) %>%
slice_max(total_catch, n = 10)
ggplot(
mapping=aes(
x=period,
y=total_catch,
fill=country
)
)+
geom_col(position = 'stack')
fisheries_clean %>%
filter(period %in% c(2013:2023)) %>%
group_by(period, country) %>%
summarize(
total_catch = sum(catch)) %>%
ungroup() %>%
group_by(period) %>%
slice_max(total_catch, n = 10) %>%
ggplot(
mapping=aes(
x=period,
y=total_catch,
fill=country
)
)+
geom_col(position = 'stack')
country_palette <- c(
"Chile" = "#1F4F4A",
"China" = "#3A6B35",
"India" = "#8A9A3A",
"Indonesia" = "#5F7F6E",
"Japan" = "#2E5E8A",
"Myanmar" = "#7A8F3A",
"Norway" = "#4A6FA5",
"Peru" = "#8C5A2B",
"Philippines" = "#A27C4F",
"Russian Federation" = "#5B4A3A",
"United States of America" = "#6E7D6A",
"Viet Nam" = "#B39B6B"
)
fisheries_clean %>%
filter(period %in% c(2013:2023)) %>%
group_by(period, country) %>%
summarize(
total_catch = sum(catch)) %>%
ungroup() %>%
group_by(period) %>%
slice_max(total_catch, n = 10) %>%
ggplot(
mapping=aes(
x=period,
y=total_catch,
fill=country
)
)+
geom_col(position = 'stack')+
scale_fill_manual(values = country_palette)
country_palette <- c(
"Chile" = "#1F4F4A",
"China" = "#3A6B35",
"India" = "#8A9A3A",
"Indonesia" = "#5F7F6E",
"Japan" = "#2E5E8A",
"Myanmar" = "#7A8F3A",
"Norway" = "#4A6FA5",
"Peru" = "#8C5A2B",
"Philippines" = "#A27C4F",
"Russian Federation" = "#5B4A3A",
"United States of America" = "#6E7D6A",
"Viet Nam" = "#B39B6B"
)
fisheries_clean %>%
filter(period %in% c(2013:2023)) %>%
group_by(period, country) %>%
summarize(
total_catch = sum(catch)) %>%
ungroup() %>%
group_by(period) %>%
slice_max(total_catch, n = 10) %>%
ggplot(
mapping=aes(
x=period,
y=total_catch,
fill=country
)
)+
geom_col(position = 'stack')+
scale_fill_manual(values = country_palette)+
labs(
title = "Total Catch of the Top 10 Countries from 2013 to 2023",
x = "Year",
y = "Total Catch Amount",
fill = "Country"
)
