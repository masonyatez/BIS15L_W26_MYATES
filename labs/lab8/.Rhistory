library("tidyverse")
library("janitor")
elephants <- read_csv("data/elephants.csv") %>%
clean_names() %>%
mutate(across(where(is.character), as.factor))
View(elephants)
elephants %>%
summarize(
average_age = mean(estimated_age_years),
average_sh = mean(shoulder_height_in_cm),
average_tl = mean(tusk_length_in_cm),
average_tc = mean(tusk_circumference_in_cm)
)
elephants %>%
summarize(
average_age = mean(estimated_age_years, na.rm =T),
average_sh = mean(shoulder_height_in_cm),
average_tl = mean(tusk_length_in_cm),
average_tc = mean(tusk_circumference_in_cm)
)
elephants %>%
summarize(
average_age = mean(estimated_age_years, na.rm =T),
average_sh = mean(shoulder_height_in_cm, na.m = T),
average_tl = mean(tusk_length_in_cm, na.rm = T),
average_tc = mean(tusk_circumference_in_cm, na.rm = T)
)
elephants %>%
summarize(
average_age = mean(estimated_age_years, na.rm =T),
average_sh = mean(shoulder_height_in_cm, na.rm = T),
average_tl = mean(tusk_length_in_cm, na.rm = T),
average_tc = mean(tusk_circumference_in_cm, na.rm = T)
)
elephants %>%
summarize(
across(where(is.numeric)),
~(.x, mean(.))
elephants %>%
summarize(
across(where(is.numeric)),
~(.x = mean(.))
)
elephants %>%
summarize(
across(where(is.numeric)),
~(. = mean(.))
)
elephants %>%
group_by(sex)
elephants %>%
group_by(sex) %>%
summarize(
across(where(is.numeric),
~mean(.x, na.rm=T)
)
)
elephants %>%
group_by(years_of_sample_collection, sex) %>%
sumarize(
mean_estimated_age_years = mean(estimated_age_years, na.rm = T),
n = n()
)
elephants %>%
group_by(years_of_sample_collection, sex) %>%
summarize(
mean_estimated_age_years = mean(estimated_age_years, na.rm = T),
n = n()
)
elephants %>%
group_by(years_of_sample_collection, sex) %>%
summarize(
mean_estimated_age_years = mean(estimated_age_years, na.rm = T),
n = n(),
.groups = 'keep'
)
elephants %>%
group_by(years_of_sample_collection, sex) %>%
summarize(
mean_estimated_age_years = mean(estimated_age_years, na.rm = T),
n = n(),
.groups = 'keep'
) %>%
arrange(sex)
elephants %>%
group_by(years_of_sample_collection, sex) %>%
summarize(
mean_age = mean(estimated_age_years, na.rm = T),
median_age = median(estimated_age_years, na.rm = T),
stdev_age = stdev(estimated_age_years, na.rm =T),
n = n(),
.groups = 'keep'
)
elephants %>%
group_by(years_of_sample_collection, sex) %>%
summarize(
mean_age = mean(estimated_age_years, na.rm = T),
median_age = median(estimated_age_years, na.rm = T),
stdev_age = sd(estimated_age_years, na.rm =T),
n = n(),
.groups = 'keep'
)
msleep %>%
group_by(vore)
msleep %>%
group_by(vore) %>%
summarize(
min_bw = min(bodywt),
max_bw = max(bodywt),
mean_bw= mean(bodywt),
n = n(),
.groups = 'keep'
)
msleep %>%
group_by(order) %>%
summarize(
mean_brain_wt = mean(brainwt)
)
msleep %>%
group_by(order) %>%
summarize(
mean_brain_wt = mean(brainwt, na.rm = T)
)
msleep %>%
group_by(order) %>%
summarize(
mean_brain_wt = mean(brainwt, na.rm = 0)
)
msleep %>%
group_by(order) %>%
summarize(
mean_brain_wt = mean(brainwt, na.rm = 1)
)
msleep %>%
group_by(order) %>%
summarize(
mean_brain_wt = mean(brainwt, na.rm = T)
)
msleep <- msleep
View(msleep)
msleep %>%
filer(order == "Cetacea")
msleep %>%
filter(order == "Cetacea")
msleep %>%
filter(order == "Cetacea") %>%
select(brainwt)
msleep %>%
group_by(order) %>%
summarize(
mean_brainwt = mean(brainwt, na.rm = T)
)
library("tidyverse")
library("janitor")
#library("naniar")
options(scipen = 999)
fisheries_clean <- read_csv("data/fisheries_clean.csv")
View(fisheries_clean)
glimpse(fisheries_clean)
fisheries_clean %>%
mutate(
across(
c(period, continent, geo_region, country, scientific_name, common_name), as.factor
)
)
fisheries_clean %>%
mutate(
across(
c(period, continent, geo_region, country, scientific_name, common_name, taxonomic_code, status), as.factor
)
)
fisheries_clean <- fisheries_clean %>%
mutate(
across(
c(period, continent, geo_region, country, scientific_name, common_name, taxonomic_code, status), as.factor
)
)
glimpse(fisheries_clean)
fisheries_clean %>%
filter(
everything() == NA
)
fisheries_clean %>%
filter(
across(everything() == NA)
)
fisheries_clean %>%
select(country) %>%
distinct(country) %>%
count(country)
fisheries_clean %>%
select(country) %>%
distinct(country) %>%
summarize(
n = n_distinct(country)
)
fisheries_clean %>%
select(country) %>%
summarize(
n = n_distinct(country)
)
fisheries_clean %>%
summarize(
n = n_distinct(country)
)
fisheries_clean %>%
summarize(
common_name_n = n_distinct(common_name),
tax_code_n = n_distinct(taxonomic_code)
)
fisheries_clean %>%
summarize(
common_name_n = n_distinct(common_name),
tax_code_n = n_distinct(taxonomic_code)
)
fisheries_clean %>%
count(common_name)
fisheries_clean %>%
summarize(
common_name_n = n_distinct(common_name),
tax_code_n = n_distinct(taxonomic_code)
)
fisheries_clean %>%
select(country, catch) %>%
fisheries_clean %>%
select(country, catch)
fisheries_clean %>%
filter(period == 2023)
select(country, catch)
fisheries_clean %>%
filter(period == 2023
fisheries_clean %>%
filter(period == 2023)
fisheries_clean %>%
filter(period == 2023) %>%
select(country, catch)
fisheries_clean %>%
filter(period == 2023) %>%
select(country, catch) %>%
distinct()
fisheries_clean %>%
filter(period == 2023) %>%
select(country, catch) %>%
distinct(country)
fisheries_clean %>%
filter(period == 2023) %>%
select(country, catch) %>%
distinct(country, keep = T)
fisheries_clean %>%
filter(period == 2023) %>%
select(country, catch) %>%
distinct(country)
fisheries_clean %>%
filter(period == 2023) %>%
select(country, catch)
fisheries_clean %>%
filter(period == 2023) %>%
select(country, catch) %>%
slice_max(catch, n = 5)
fisheries_clean %>%
filter(period == 2023) %>%
select(period, country, catch) %>%
slice_max(catch, n = 5)
fisheries_clean %>%
filter(period == 2023) %>%
select(period, common_name, catch)
fisheries_clean %>%
filter(period == 2023) %>%
select(period, common_name, catch) %>%
slice_max(catch, n = 10)
fisheries_clean %>%
filter(period == 2023) %>%
select(period, country, catch) %>%
group_by(country)
slice_max(catch, n = 5)
fisheries_clean %>%
filter(period == 2023) %>%
select(period, country, catch) %>%
group_by(country) %>%
slice_max(catch, n = 5)
fisheries_clean %>%
filter(period == 2023) %>%
select(period, country, catch) %>%
group_by(country) %>%
slice_max(catch, n = 1)
fisheries_clean %>%
filter(period == 2023) %>%
select(period, country, catch) %>%
group_by(country) %>%
slice_max(catch, n = 1) %>%
ungroup %>%
slice_max(catch, n = 5)
fisheries_clean %>%
filter(period == 2023) %>%
select(period, country, catch) %>%
group_by(country) %>%
slice_max(catch, n = 1) %>%
ungroup() %>%
slice_max(catch, n = 5)
fisheries_clean %>%
filter(period == 2023) %>%
select(period, common_name, catch) %>%
group_by(common_name) %>%
slice_max(catch, n = 1) %>%
ungroup %>%
slice_max(catch, n = 10)
fisheries_clean %>%
filter(period == 2023) %>%
select(period, country, catch) %>%
group_by(country) %>%
summarize(
total_catch = sum(catch, na.rm = T)
)
fisheries_clean %>%
filter(period == 2023) %>%
select(country, catch) %>%
group_by(country) %>%
summarize(
total_catch = sum(catch, na.rm = T)
) %>%
slice_max(country, n = 10)
fisheries_clean %>%
filter(period == 2023) %>%
select(country, catch) %>%
group_by(country) %>%
summarize(
total_catch = sum(catch, na.rm = T)
) %>%
slice_max(total_catch, n = 10)
fisheries_clean %>%
filter(period == 2023) %>%
select(country, catch) %>%
group_by(country) %>%
summarize(
total_catch = sum(catch, na.rm = T)
) %>%
slice_max(total_catch, n = 5)
fisheries_clean %>%
filter(period == 2023) %>%
select(country, catch) %>%
group_by(country) %>%
summarize(
total_catch = sum(catch, na.rm = T)
) %>%
slice_max(total_catch, n = 10)
fisheries_clean %>%
filter(period == 2023) %>%
select(country, catch) %>%
group_by(country) %>%
summarize(
total_catch = sum(catch, na.rm = T)
) %>%
slice_max(total_catch, n = 5)
fisheries_clean %>%
filter(period == 2023) %>%
select(period, common_name, catch) %>%
group_by(common_name) %>%
summarize(
total_catch = sum(catch, na.rm = T)
) %>%
slice_max(total_catch, n = 10)
fisheries_clean %>%
filter(common_name == "Alaska pollock(=Walleye poll.)") %>%
filter(period = 2023) %>%
select(country, catch) %>%
slice_max(catch, n = 1)
fisheries_clean %>%
filter(common_name == "Alaska pollock(=Walleye poll.)") %>%
filter(period == 2023) %>%
select(country, catch) %>%
slice_max(catch, n = 1)
fisheries_clean %>%
filter(common_name == "Alaska pollock(=Walleye poll.)") %>%
filter( period >= 2013 | period <= 2023)
fisheries_clean %>%
filter(common_name == "Alaska pollock(=Walleye poll.)") %>%
filter(period >= 2013 & period <= 2023)
fisheries_clean %>%
filter(common_name == "Alaska pollock(=Walleye poll.)")
fisheries_clean %>%
filter(common_name == "Alaska pollock(=Walleye poll.)") %>%
filter(period %in% c(2013:2023))
fisheries_clean %>%
filter(common_name == "Alaska pollock(=Walleye poll.)") %>%
filter(period %in% c(2013:2023)) %>%
group_by(period) %>%
summarize(
total_catch = sum(catch)
)
fisheries_clean %>%
filter(common_name == "Alaska pollock(=Walleye poll.)") %>%
filter(period %in% c(2013:2023)) %>%
group_by(period) %>%
summarize(
total_catch = sum(catch)
) %>%
ggplot(
mapping=aes(
x = period,
y = total_catch,
)
)+
geom_point()+
geom_smooth()
fisheries_clean %>%
filter(common_name == "Alaska pollock(=Walleye poll.)") %>%
filter(period %in% c(2013:2023)) %>%
group_by(period) %>%
summarize(
total_catch = sum(catch)
) %>%
ggplot(
mapping=aes(
x = period,
y = total_catch,
)
)+
geom_line()+
geom_smooth()
fisheries_clean %>%
filter(common_name == "Alaska pollock(=Walleye poll.)") %>%
filter(period %in% c(2013:2023)) %>%
group_by(period) %>%
summarize(
total_catch = sum(catch)
) %>%
ggplot(
mapping=aes(
x = period,
y = total_catch,
)
)+
geom_col()
fisheries_clean %>%
filter(common_name == "Alaska pollock(=Walleye poll.)") %>%
filter(period %in% c(2013:2023)) %>%
group_by(period) %>%
summarize(
total_catch = sum(catch)
) %>%
ggplot(
mapping=aes(
x = period,
y = total_catch,
fill = "orange"
)
)+
geom_col()
